[{"/Users/ankursrivastava/Desktop/code/react/auth-project/src/index.js":"1","/Users/ankursrivastava/Desktop/code/react/auth-project/src/App.js":"2","/Users/ankursrivastava/Desktop/code/react/auth-project/src/pages/AuthPage.js":"3","/Users/ankursrivastava/Desktop/code/react/auth-project/src/pages/HomePage.js":"4","/Users/ankursrivastava/Desktop/code/react/auth-project/src/components/Layout/Layout.js":"5","/Users/ankursrivastava/Desktop/code/react/auth-project/src/components/Profile/UserProfile.js":"6","/Users/ankursrivastava/Desktop/code/react/auth-project/src/components/Layout/MainNavigation.js":"7","/Users/ankursrivastava/Desktop/code/react/auth-project/src/components/Profile/ProfileForm.js":"8","/Users/ankursrivastava/Desktop/code/react/auth-project/src/components/Auth/AuthForm.js":"9","/Users/ankursrivastava/Desktop/code/react/auth-project/src/components/StartingPage/StartingPageContent.js":"10","/Users/ankursrivastava/Desktop/code/react/auth-project/src/store/auth-context.js":"11"},{"size":387,"mtime":1653529236406,"results":"12","hashOfConfig":"13"},{"size":891,"mtime":1653615234664,"results":"14","hashOfConfig":"13"},{"size":130,"mtime":1648630796000,"results":"15","hashOfConfig":"13"},{"size":171,"mtime":1648630796000,"results":"16","hashOfConfig":"13"},{"size":246,"mtime":1648630796000,"results":"17","hashOfConfig":"13"},{"size":278,"mtime":1648630796000,"results":"18","hashOfConfig":"13"},{"size":965,"mtime":1653613469424,"results":"19","hashOfConfig":"13"},{"size":1583,"mtime":1653612922141,"results":"20","hashOfConfig":"13"},{"size":3303,"mtime":1653800124504,"results":"21","hashOfConfig":"13"},{"size":240,"mtime":1648630796000,"results":"22","hashOfConfig":"13"},{"size":2551,"mtime":1653799376003,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},"1a1ndzg",{"filePath":"27","messages":"28","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"29","messages":"30","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"31","messages":"32","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"33","messages":"34","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"35","messages":"36","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"37","messages":"38","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"39","messages":"40","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"41","messages":"42","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"43"},{"filePath":"44","messages":"45","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"46","messages":"47","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/ankursrivastava/Desktop/code/react/auth-project/src/index.js",[],["48","49"],"/Users/ankursrivastava/Desktop/code/react/auth-project/src/App.js",[],"/Users/ankursrivastava/Desktop/code/react/auth-project/src/pages/AuthPage.js",[],"/Users/ankursrivastava/Desktop/code/react/auth-project/src/pages/HomePage.js",[],"/Users/ankursrivastava/Desktop/code/react/auth-project/src/components/Layout/Layout.js",[],"/Users/ankursrivastava/Desktop/code/react/auth-project/src/components/Profile/UserProfile.js",[],"/Users/ankursrivastava/Desktop/code/react/auth-project/src/components/Layout/MainNavigation.js",[],"/Users/ankursrivastava/Desktop/code/react/auth-project/src/components/Profile/ProfileForm.js",[],"/Users/ankursrivastava/Desktop/code/react/auth-project/src/components/Auth/AuthForm.js",["50"],"import { useState, useRef, useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport AuthContext from '../../store/auth-context';\n\nimport classes from './AuthForm.module.css';\n\n// APIs https://firebase.google.com/docs/reference/rest/auth\n// https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=[API_KEY]\n\nexport const API_KEY = 'AIzaSyCF7DX6ksPny95P_8Xp2an5_GUdgHcXHwI'\n\nconst AuthForm = () => {\n  const [isLogin, setIsLogin] = useState(true);\n  const [isLoading, setIsLoading] = useState(false)\n  const emailInputRef = useRef()\n  const passwordInputRef = useRef()\n  const history = useHistory()\n\n  const authCtx = useContext(AuthContext)\n\n  const SIGNUP_API = 'https://identitytoolkit.googleapis.com/v1/accounts:signUp?key='\n  const LOGIN_API = 'https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key='\n\n  const switchAuthModeHandler = () => {\n    setIsLogin((prevState) => !prevState);\n  };\n\n  const submitHandler = (event) => {\n    event.preventDefault()\n    setIsLoading(true)\n    // get input values\n    const enteredEmail = emailInputRef.current.value\n    const enteredPassword = passwordInputRef.current.value\n\n    // validate\n    // submit\n    let url = ''\n    if(isLogin) {\n      url = `${LOGIN_API}${API_KEY}`\n    } else {\n      url = `${SIGNUP_API}${API_KEY}`\n    }\n    // Send Request\n    fetch(url, {\n      method: 'POST',\n      body: JSON.stringify({\n        email: enteredEmail,\n        password: enteredPassword,\n        returnSecureToken: true\n      }),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(res => {\n      setIsLoading(false)\n      if(res.ok) {\n        return res.json()\n      } else {\n        return res.json().then(data => {\n          // Firebase returns an object with error key\n          let errorMessage = 'Authentication Failed'\n          if(data && data.error && data.error.message) {\n            errorMessage = data.error.message\n          }            \n          throw new Error(errorMessage)\n        })\n      }\n    }).then(data => {\n      const expiresInMs = +data.expiresIn*1000\n      // authCtx.login(data.idToken, expiresInMs)\n      // for testing\n      authCtx.login(data.idToken, 60000)\n      history.replace('/')\n    }).catch(e => {\n      alert(e.message)\n    })\n    // Ends\n  }\n\n  return (\n    <section className={classes.auth}>\n      <h1>{isLogin ? 'Login' : 'Sign Up'}</h1>\n      <form onSubmit={submitHandler}>\n        <div className={classes.control}>\n          <label htmlFor='email'>Your Email</label>\n          <input type='email' id='email' ref={emailInputRef} required />\n        </div>\n        <div className={classes.control}>\n          <label htmlFor='password'>Your Password</label>\n          <input type='password' ref={passwordInputRef} id='password' required />\n        </div>\n        <div className={classes.actions}>\n          {!isLoading && <button>{isLogin ? 'Login' : 'Create Account'}</button>}\n          {isLoading && <p>Loading ...</p>}\n          <button\n            type='button'\n            className={classes.toggle}\n            onClick={switchAuthModeHandler}\n          >\n            {isLogin ? 'Create new account' : 'Login with existing account'}\n          </button>\n        </div>\n      </form>\n    </section>\n  );\n};\n\nexport default AuthForm;\n","/Users/ankursrivastava/Desktop/code/react/auth-project/src/components/StartingPage/StartingPageContent.js",[],"/Users/ankursrivastava/Desktop/code/react/auth-project/src/store/auth-context.js",[],{"ruleId":"51","replacedBy":"52"},{"ruleId":"53","replacedBy":"54"},{"ruleId":"55","severity":1,"message":"56","line":69,"column":13,"nodeType":"57","messageId":"58","endLine":69,"endColumn":24},"no-native-reassign",["59"],"no-negated-in-lhs",["60"],"no-unused-vars","'expiresInMs' is assigned a value but never used.","Identifier","unusedVar","no-global-assign","no-unsafe-negation"]